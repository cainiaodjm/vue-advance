<!--
 * @Author: your name
 * @Date: 2020-05-14 10:07:02
 * @LastEditTime: 2020-05-14 10:18:45
 * @LastEditors: your name
 * @Description: 
 * @FilePath: /vue-advance/vue-demo/v-bind.sync.html
 * @可以输入预定的版权声明、个性签名、空行等
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <div>{{message}}</div>
       
        子组件: <child v-if="showChild" :obj.sync="newObj"></child>
        <button @click="handleChange">切换child</button>
        <button @click="changeObj">点击改变属性</button>
    </div>
</body>
<script src="../node_modules/vue/dist/vue.js"></script>
<script>
   
Vue.component('child',{
  template:"<div>{{innerObj}} <button @click='changeInnerObj'>修改子组件的属性</button> </div>",
  beforeDestroy() {
      
  },
  destroyed() {
      
  },
  data(){
      return {
          innerObj:this.obj
      }
  },
  methods:{
    changeInnerObj(){
        console.log('sss')
        this.obj.newCCC ="CCCCCCCC"
    }
  },
  props:{
    obj:{
      type:Object,
      default:()=>{
        return {}
      }
    }
  }
  
})
var Vue= new Vue({
  el:'#app',
  data(){
    return{
      message:'Hello Vue',
      newObj:{
        aaa:'aaa',
        bbb:'bbb'
      },
      showChild:true
    }
  },
  methods:{
    
    changeObj(){
      this.newObj={
        aaa:'newAAA',
        bbb:'newBBB'
      }
    },
    handleChange(){
        this.showChild=!this.showChild
    }
  }
})
</script>
</html>